{% extends 'base.html' %}
# наследование от страницы base.html

  {% block body %}

      {% if post == "admin"%}
      <!--Список всех исключений-->
    <!--ДОБАВИТЬ СВЯЗИ К ТАБЛИЦЕ ИЗ БД-->

    <div class="wrapper">
      <table id="data1" class="table table-striped">
          <thead>
          <tr>
              <th>Фамилия</th>
              <th>Имя</th>
              <th>Отчество</th>
              <th>Курс</th>
              <th>Взвод</th>
              <th>Дата 1</th>
              <th>Дата 2</th>
              <th>Основание исключения</th>
              <th>Файл</th>
          </tr>
          </thead>
          <tbody>
          </tbody>
      </table>
    </div>

      <script>
      $(document).ready(function () {
        $('#data1').DataTable({
          ajax: '/api/data',
          columns: [
            {data: 'surname'},
            {data: 'name'},
            {data: 'midname'},
            {data: 'course'},
            {data: 'platoon'},
            {data: 'data1'},
            {data: 'data2'},
            {data: 'isk'},
            {data: 'file_iskl'},
          ],
        });
      });
      </script>

    <div class="wrapper">
      <table id="data2" class="table table-striped">
          <thead>
          <tr>
              <th>Курс</th>
              <th>Взвод</th>
              <th>Дата</th>
              <th>Основание исключения</th>
          </tr>
          </thead>
          <tbody>
          </tbody>
      </table>
    </div>

      <script>
      $(document).ready(function () {
        $('#data2').DataTable({
          ajax: '/api/data',
          columns: [
            {data: 'course'},
            {data: 'platoon'},
            {data: 'data1'},
            {data: 'isk'},
          ],
        });
      });
      </script>

  <script type="text/javascript" charset="utf8" src="{{ url_for('static', filename='js/jquery-3.6.0.min.js')}}"></script>
  <script type="text/javascript" charset="utf8" src="{{ url_for('static', filename='js/jquery.dataTables.js')}}"></script>
  <script type="text/javascript" charset="utf8" src="{{ url_for('static', filename='js/dataTables.bootstrap5.js')}}"></script>


      {%else%}
      <div class="d-flex flex-wrap container py-4 text-center align-items-center">
      <form class="row g-3 py-4 needs-validation" novalidate>

      <div class="container text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-2">
            <label for="validationCustom01" class="form-label">Год</label>
          </div>
          <div class="col-md-2">
            <label for="validationCustom02" class="form-label">Месяц</label>
          </div>
          <div class="col-md-2">
            <label for="validationCustom03" class="form-label">Количество дней</label>
          </div>
          <!--ИЛИ ФОРМИРОВАТЬ МЕСЯЦ НАРЯДА С ВЫГРУЗКОЙ ИЗ КАЛЕНДАРЯ???-->
          <div class="col-md-2">
            <label for="validationCustom02" class="form-label"></label>
          </div>
        </div>
      </div>

      <div class="container text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-2">
            <input type="text" class="form-control" id="validationCustom01" value="" required>
          </div>
          <div class="col-md-2">
            <select class="form-select" id="validationCustom02" required>
              <option selected disabled value="">Выберите...</option>
              <option>январь</option>
              <option>февраль</option>
              <option>март</option>
              <option>апрель</option>
              <option>май</option>
              <option>июнь</option>
              <option>июль</option>
              <option>август</option>
              <option>сентябрь</option>
              <option>октябрь</option>
              <option>ноябрь</option>
              <option>декабрь</option>
            </select>
          </div>
          <div class="col-md-2">
            <input type="text" class="form-control" id="validationCustom03" value="" required>
          </div>
          <!--ИЛИ ФОРМИРОВАТЬ МЕСЯЦ НАРЯДА С ВЫГРУЗКОЙ ИЗ КАЛЕНДАРЯ???-->
          <div class="col-md-2">
            <input class="btn btn-primary" type="submit" value="Сгенерировать месяц">
          </div>
        </div>
      </div>

      <hr class="featurette-divider">

      <div class="container text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-1 py-4">
            <label class="form-label">Дата</label>
          </div>
          <div class="col-md-2 py-4 form-check-inline">
            <label class="form-label">901 взвод</label>
          </div>
          <div class="col-md-2 py-4 form-check-inline">
            <label class="form-label">902 взвод</label>
          </div>
          <div class="col-md-2 py-4 form-check-inline">
            <label class="form-label">903 взвод</label>
          </div>
          <div class="col-md-2 py-4 form-check-inline">
            <label class="form-label">904 взвод</label>
          </div>
          <div class="col-md-2 py-4 form-check-inline">
            <label class="form-label">Основание</label>
          </div>
        </div>
      </div>

      <div class="container text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-1 py-4">
            <label for="validationCustom01" class="form-label">01.09.2023</label>
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option1">
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox4" value="option2">
          </div>
          <div class="col-md-2 py-0">
            <select class="form-select" id="validationCustom04" required>
              <option selected disabled value="">Выберите...</option>
              <option>выезд в березки</option>
              <option>выезд в рузу</option>
              <option>экзамен</option>
              <option>зачет</option>
              <option>другое</option>
            </select>
          </div>
        </div>
      </div>

      <div class="container text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-1 py-2">
            <label for="validationCustom01" class="form-label">02.09.2023</label>
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option1">
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox4" value="option2">
          </div>
          <div class="col-md-2 py-0">
            <select class="form-select" id="validationCustom04" required>
              <option selected disabled value="">Выберите...</option>
              <option>выезд в березки</option>
              <option>выезд в рузу</option>
              <option>экзамен</option>
              <option>зачет</option>
              <option>другое</option>
            </select>
          </div>
        </div>
      </div>

      <div class="container text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-1 py-2">
            <label for="validationCustom01" class="form-label">03.09.2023</label>
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option1">
          </div>
          <div class="col-md-2 py-1 form-check-inline">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox4" value="option2">
          </div>
          <div class="col-md-2 py-0">
            <select class="form-select" id="validationCustom04" required>
              <option selected disabled value="">Выберите...</option>
              <option>выезд в березки</option>
              <option>выезд в рузу</option>
              <option>экзамен</option>
              <option>зачет</option>
              <option>другое</option>
            </select>
          </div>
        </div>
      </div>

      <hr class="featurette-divider">

      <div class="container text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-2 py-4">
            <label for="validationCustom01" class="form-label">Список курса</label>
          </div>
          <div class="col-md-4 py-4">
            <label for="validationCustom01" class="form-label">Период нетрудоспособности</label>
          </div>
          <div class="col-md-3 py-4">
            <label for="validationCustom01" class="form-label">Основание не привлечения</label>
          </div>
          <div class="col-md-3 py-4">
            <label for="validationCustom01" class="form-label">Прикрепите файл</label>
          </div>
        </div>
      </div>

      <div class="container text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-2 py-1">
            <label for="validationCustom01" class="form-label">Иванов И.И.</label>
          </div>
          <div class="col-md-2 py-1">
            <input type="date" pattern="\d{4}-\d{2}-\d{2}" class="form-control" id="validationCustom04" value="" required>
          </div>
          <div class="col-md-2 py-1">
            <input type="date" pattern="\d{4}-\d{2}-\d{2}" class="form-control" id="validationCustom04" value="" required>
          </div>
          <div class="col-md-3 py-1">
            <select class="form-select" id="validationCustom06" required>
              <option selected disabled value="">Выберите...</option>
              <option>рапорт</option>
              <option>болезнь</option>
              <option>командировка</option>
            </select>
          </div>
          <div class="col-md-3 py-1">
            <div class="input-group mb-3">
              <input type="file" class="form-control" id="inputGroupFile01">
            </div>
          </div>
        </div>
      </div>

      <div class="container text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-2 py-1">
            <label for="validationCustom01" class="form-label">Сидоров С.С.</label>
          </div>
          <div class="col-md-2 py-1">
            <input type="date" pattern="\d{4}-\d{2}-\d{2}" class="form-control" id="validationCustom04" value="" required>
          </div>
          <div class="col-md-2 py-1">
            <input type="date" pattern="\d{4}-\d{2}-\d{2}" class="form-control" id="validationCustom04" value="" required>
          </div>
          <div class="col-md-3 py-1">
            <select class="form-select" id="validationCustom06" required>
              <option selected disabled value="">Выберите...</option>
              <option>рапорт</option>
              <option>болезнь</option>
              <option>командировка</option>
            </select>
          </div>
          <div class="col-md-3 py-1">
            <div class="input-group mb-3">
              <input type="file" class="form-control" id="inputGroupFile01">
            </div>
          </div>
        </div>
      </div>

      <div class="container text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-md-2 py-1">
            <label for="validationCustom01" class="form-label">Петров П.П.</label>
          </div>
          <div class="col-md-2 py-1">
            <input type="date" pattern="\d{4}-\d{2}-\d{2}" class="form-control" id="validationCustom04" value="" required>
          </div>
          <div class="col-md-2 py-1">
            <input type="date" pattern="\d{4}-\d{2}-\d{2}" class="form-control" id="validationCustom04" value="" required>
          </div>
          <div class="col-md-3 py-1">
            <select class="form-select" id="validationCustom06" required>
              <option selected disabled value="">Выберите...</option>
              <option>рапорт</option>
              <option>болезнь</option>
              <option>командировка</option>
            </select>
          </div>
          <div class="col-md-3 py-1">
            <div class="input-group mb-3">
              <input type="file" class="form-control" id="inputGroupFile01">
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 py-4">
        <button class="btn btn-primary" type="submit">Отправить исключения</button>
      </div>
    </form>
      </div>
      {%endif%}

  {% endblock %}

<!--
 Функционал вкладки:
  1) админ
? Список всех оснований для исключений (по месяцам разделить или общий список сделать?).

  2) курсовой офицер
+ Генерирование месяца суток (год, месяц, количество дней). Альтернатива: сделать выгрузку из календаря для автоматического генерирования месяца с последующим проставлением исключений:
+ На взвод (выездные занятия, экзамены, зачеты). За день ДО не ставить в сутки.
+ Проставление исключений на курсантов на месяц вперед (список курсантов с возможностью обозначения периода, в который не могут ходить в сутки по той или иной причине с прикреплением основания освобождения). В случае проставления замены – необходимой для составления графика на месяц.
Предусмотреть проставление исключений в случае непредвиденных ситуаций уже в течение месяца? Например: заболевание или рапорт. Или этот функционал оставить на вкладке, где можно сделать замены на эти дни?
ДА, функционал курсового, админа
На основании исключений сгенерировать нагрузку по курсам!!! после начать расстановку!!!

 3) курсант -
-->